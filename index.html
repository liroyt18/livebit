<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>LiveBIT Overlay</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --neon: #00e5ff; --red: #ff2d55; --gold: #ffcc00; --purple: #8a2be2; --bg: #0d0d15; --card: #161625; --green: #00ff88; }
        body { background: transparent; color: white; font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden; }
        
        /* 住转专转  驻 爪专 */
        .hidden { display: none !important; }

        /* 注爪  拽专 (注爪 拽专 砖) */
        #admin-panel { display: none; width: 100vw; height: 100vh; background: var(--bg); grid-template-columns: 300px 1fr 300px; gap: 20px; padding: 20px; box-sizing: border-box; }
        .panel { background: var(--card); border: 1px solid rgba(255,255,255,0.05); border-radius: 15px; overflow: hidden; }
        .center-column { display: flex; flex-direction: column; gap: 20px; align-items: center; }
        .biggest-gifter { width: 100%; border: 2px solid var(--gold); border-radius: 12px; padding: 20px; text-align: center; }
        .timer-val { font-size: 120px; font-weight: 900; font-family: monospace; color: white; margin: 10px 0; }
        .btn-main { border: none; padding: 18px; border-radius: 10px; font-weight: 900; cursor: pointer; width: 100%; margin-bottom: 10px; }
        .glow-green { background: transparent; color: var(--green); border: 2px solid var(--green); }

        /* 注爪 爪 砖专 拽拽 (专拽 专 转  专拽注) */
        #overlay-view { display: none; width: 100%; height: 100%; justify-content: center; align-items: center; }

        /*  */
        #login-screen { position: fixed; inset: 0; background: #05050a; z-index: 10000; display: flex; align-items: center; justify-content: center; }
        .login-card { background: #111; padding: 40px; border-radius: 20px; border: 2px solid var(--neon); text-align: center; width: 380px; }
        input { width: 100%; padding: 15px; background: #000; border: 1px solid #222; color: white; border-radius: 8px; margin: 10px 0; outline: none; }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-card">
            <h2 style="color: var(--neon)">LiveBIT Login</h2>
            <input type="text" id="log-user" placeholder="TikTok Username">
            <input type="password" id="log-pass" placeholder="Password">
            <button onclick="validateLogin()" class="btn-main" style="background:var(--neon); color:black;">CONNECT SYSTEM</button>
        </div>
    </div>

    <div id="admin-panel">
        <div class="panel">
            <div style="padding:20px;">
                <h3 style="color:var(--red); text-align:center;">TOP 10 LIKERS</h3>
                <div id="likers-list"></div>
            </div>
        </div>
        <div class="center-column">
            <div class="panel biggest-gifter">
                <div style="color: var(--gold); font-size: 13px;"> BIGGEST GIFTER</div>
                <div id="top-name" style="font-size: 22px; font-weight: bold;">Waiting...</div>
            </div>
            <div class="panel" style="width: 100%; text-align: center; padding: 25px;">
                <div id="timer-display" class="timer-val">01:00</div>
                <button class="btn-main" style="background:var(--neon);" onclick="toggleTimer()">START / PAUSE</button>
                <button class="btn-main glow-green" onclick="alert('Copied!');">COPY OVERLAY URL</button>
            </div>
        </div>
        <div class="panel">
            <div style="padding:20px;">
                <h3 style="color:var(--gold); text-align:center;">TOP 3 GIFTERS</h3>
                <div id="gifters-list"></div>
            </div>
        </div>
    </div>

    <div id="overlay-view">
        <div id="display-content" style="text-align: center;">
            </div>
    </div>

    <script>
        // 拽:   拽砖专 砖专?
        const urlParams = new URLSearchParams(window.location.search);
        const viewMode = urlParams.get('view');

        if (viewMode) {
            //  砖 "view" 转转 -  注  爪 专拽 转 转
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('overlay-view').style.display = 'flex';
            setupOverlay(viewMode);
        }

        function validateLogin() {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('admin-panel').style.display = 'grid';
        }

        function setupOverlay(type) {
            const content = document.getElementById('display-content');
            if(type === 'timer') {
                content.innerHTML = `<div class="timer-val" style="font-size:150px;">01:00</div>`;
            }
            //  住祝 砖 住专  转
        }

        let timeLeft = 60, isRunning = false, timerId;
        function update() {
            const m = Math.floor(timeLeft / 60), s = timeLeft % 60;
            const timeStr = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
            document.getElementById('timer-display').innerText = timeStr;
            //  砖  转爪 砖专, 注  转
            const display = document.querySelector('#display-content .timer-val');
            if(display) display.innerText = timeStr;
        }

        function toggleTimer() {
            if (isRunning) { clearInterval(timerId); isRunning = false; }
            else { isRunning = true; timerId = setInterval(() => { if(timeLeft>0) {timeLeft--; update();} }, 1000); }
        }
    </script>
</body>
</html>
